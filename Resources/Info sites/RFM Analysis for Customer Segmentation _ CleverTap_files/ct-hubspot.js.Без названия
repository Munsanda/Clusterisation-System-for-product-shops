(function($){$(document).ready(function(){var settings={formId:'643700df-e938-4d6f-85dc-734ee3c7a2e7',redirectUrl:false,grecaptcha:false,checkValidDomain:false,isModal:false,ctEvent:false,formName:'Demo Form',ctApiURL:'/wp-json/g/v1/cthubspot',page_url:location.href,page_name:location.pathname,form_button:'schedule_demo',form_prop:false,formEmailValid_beforeSubmit:false};if(typeof CleverTapDemoForm==="object"){settings.formId=CleverTapDemoForm.formId||settings.formId;settings.redirectUrl=CleverTapDemoForm.redirectUrl||false;settings.grecaptcha=CleverTapDemoForm.grecaptcha||false;settings.checkValidDomain=CleverTapDemoForm.checkValidDomain||false;settings.formEmailValid_beforeSubmit=CleverTapDemoForm.formEmailValid_beforeSubmit||false;settings.isModal=CleverTapDemoForm.isModal||false;settings.ctEvent=CleverTapDemoForm.ctEvent||false;settings.formName=CleverTapDemoForm.formName||'Demo Form';settings.form_button=CleverTapDemoForm.form_button||'schedule_demo';settings.form_prop=CleverTapDemoForm.form_prop||{};settings.ctForm=$('#ctForm_'+settings.formId);if(checkUtmValue('utm_source')){settings.form_prop['utm_source']=checkUtmValue('utm_source');}
if(checkUtmValue('utm_medium')){settings.form_prop['utm_medium']=checkUtmValue('utm_medium');}
if(checkUtmValue('utm_campaign')){settings.form_prop['utm_campaign']=checkUtmValue('utm_campaign');}
if(checkUtmValue('utm_keyword')){settings.form_prop['utm_keyword']=checkUtmValue('utm_keyword');}
if(checkUtmValue('utm_content')){settings.form_prop['utm_content']=checkUtmValue('utm_content');}
if(checkUtmValue('utm_term')){settings.form_prop['utm_term']=checkUtmValue('utm_term');}
if(!settings.isModal&&settings.ctForm.length<1){console.error('ERROR: Define Form id eg: "ctForm_643700df-e938-4d6f-85dc-734ee3c7a2e7"');return;}}else{return;}
function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\. [0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email);}
var $firstname=settings.ctForm.find('#sdfirstname');var $lastname=settings.ctForm.find('#sdlastname');var $email=settings.ctForm.find('#sdemail');var $phone=settings.ctForm.find('#sdphone');var $country=settings.ctForm.find('#country');var $jobtitle=settings.ctForm.find('#jobtitle');var $linkedin_url=settings.ctForm.find('#linkedin_url');var $selected_plan=settings.ctForm.find('#sdpricingplan');var $pricing_plan=settings.ctForm.find('#pricing_plan');var $cc=settings.ctForm.find('#ccCodeNumber');var $consent_checkbox=settings.ctForm.find('#consent_checkbox');var $company=settings.ctForm.find('#company');var $got_an_app_=settings.ctForm.find('#got_an_app_');var $mau=settings.ctForm.find('#mau');var $monthly_avg_users=settings.ctForm.find('#monthly_avg_users');var $funding=settings.ctForm.find('#funding');var $webinar_theme_text=settings.ctForm.find('#webinar_theme_text');var $webinar_timezone=settings.ctForm.find('#webinar_timezone');var $ct_apple_store_link_s_=settings.ctForm.find('#ct_apple_store_link_s_');var $referrer=settings.ctForm.find('#referrer');var $referrer_name_others=settings.ctForm.find('#referrer_name_others');$.get(settings.ctApiURL,function(data){$firstname.val((data.firstname)?data.firstname.value:'');$lastname.val((data.lastname)?data.lastname.value:'');$email.val((data.email)?data.email.value:'');$phone.val((data.phone)?data.phone.value:'');$country.val((data.country)?data.country.value:'');$jobtitle.val((data.jobtitle)?data.jobtitle.value:'');$linkedin_url.val((data.linkedin_url)?data.linkedin_url.value:'');$selected_plan.val((data.selected_plan)?data.selected_plan.value:'');$pricing_plan.val((data.pricing_plan)?data.pricing_plan.value:'');$consent_checkbox.val((data.consent_checkbox)?data.consent_checkbox.value:'');$company.val((data.company)?data.company.value:'');$got_an_app_.val((data.got_an_app_)?data.got_an_app_.value:'');$mau.val((data.mau)?data.mau.value:'');$monthly_avg_users.val((data.monthly_avg_users)?data.monthly_avg_users.value:'');$funding.val((data.funding)?data.funding.value:'');$webinar_theme_text.val((data.webinar_theme_text)?data.webinar_theme_text.value:'');$webinar_timezone.val((data.webinar_timezone)?data.webinar_timezone.value:'');$ct_apple_store_link_s_.val((data.ct_apple_store_link_s_)?data.ct_apple_store_link_s_.value:'');$referrer.val((data.referrer)?data.referrer.value:'');$referrer_name_others.val((data.referrer_name_others)?data.referrer_name_others.value:'');});var dropdown_cntry=$('#countrylist');var dropdown_cntry2=$('#countrylist2');var country_code=$('#sdphoneCode');dropdown_cntry.empty();dropdown_cntry2.empty();country_code.empty();dropdown_cntry.append('<option selected="true" disabled>Choose State/Province</option>');dropdown_cntry2.append('<option selected="true" disabled>Choose State/Province</option>');dropdown_cntry.prop('selectedIndex',0);dropdown_cntry2.prop('selectedIndex',0);var url_json='/wp-content/themes/clevertap2019/js/country.json?1';$.getJSON(url_json,function(data){$.each(data.options,function(key,entry){dropdown_cntry.append($('<option datacountry="'+entry.value+'"></option>').attr('value',entry.value).text(entry.value));dropdown_cntry2.append($('<option datacountry="'+entry.value+'"></option>').attr('value',entry.value).text(entry.value));});var countryCodeArr=data.options;var setCountryOnload=0;var intVal=setInterval(function(){for(var i in countryCodeArr){if(countryCodeArr[i].value==sessionStorage.getItem("setCountry")){var requiredObj=countryCodeArr[i];$('#country,.countryfield2').val(requiredObj.value);$('.country_hidden').val(requiredObj.value);break;}}
setCountryOnload++;if(setCountryOnload===2){clearInterval(intVal);}},1000);$('#country,.countryfield2').on('change',function(){for(var i in countryCodeArr){if(countryCodeArr[i].value==this.value){var requiredObj=countryCodeArr[i];$('#sdphoneCode').val(requiredObj.value);$('.country_hidden').val(requiredObj.value);break;}}});$('#country,.countryfield2').on('click',function(){$(this).val('');});$('#country,.countryfield2').on('mouseleave',function(){if($(this).val()==''){$(this).val($('.country_hidden').val());}});$('#country,.countryfield2').on('input change',function(e){var selectedCountry=$(this).val();$('.country_hidden').val(selectedCountry);});});$(document).on('click','#'+settings.form_button,function(){var currentForm=$(this).parents('form');var $selfButton=$(this);var $firstname=currentForm.find('#sdfirstname');var $lastname=currentForm.find('#sdlastname');var $email=currentForm.find('#sdemail');var $phone=currentForm.find('#sdphone');var $country=currentForm.find('#country');var $jobtitle=currentForm.find('#jobtitle');var $linkedin_url=currentForm.find('#linkedin_url');var $selected_plan=currentForm.find('#sdpricingplan');var $pricing_plan=currentForm.find('#pricing_plan');var $consent_checkbox=currentForm.find('#consent_checkbox');var $got_an_app_=currentForm.find('#got_an_app_');var $mau=currentForm.find('#mau');var $monthly_avg_users=currentForm.find('#monthly_avg_users');var $funding=currentForm.find('#funding');var $webinar_theme_text=currentForm.find('#webinar_theme_text');var $webinar_timezone=currentForm.find('#webinar_timezone');var $ct_apple_store_link_s_=currentForm.find('#ct_apple_store_link_s_');var $referrer=currentForm.find('#referrer');var $referrer_name_others=currentForm.find('#referrer_name_others');var error=false;var errorBorder="solid 1px #b30324";var normalBorder="solid 1px #f2eaf6";if(typeof settings.ctForm==="undefined"){console.error("CleverTapDemoForm Object Not Found!!");return;}
function isInputValid($elem,isEmail){if(isEmail&&!validateEmail($elem.val())){$elem.css("border",errorBorder);error=true;}else{if($elem.val()===""){$elem.css("border",errorBorder).addClass('errorMsg');error=true;}else{$elem.css("border",normalBorder).removeClass('errorMsg');}}
$elem.on('click',function(event){$elem.css("border","solid 1px #f2eaf6");});}
isInputValid($firstname);isInputValid($lastname);isInputValid($email,true);isInputValid($phone);isInputValid($country);isInputValid($company);isInputValid($jobtitle);isInputValid($linkedin_url);isInputValid($selected_plan);isInputValid($got_an_app_);isInputValid($mau);isInputValid($monthly_avg_users);isInputValid($funding);isInputValid($webinar_theme_text);isInputValid($webinar_timezone);isInputValid($ct_apple_store_link_s_);isInputValid($referrer);isInputValid($referrer_name_others);if($cc.length){isInputValid($cc);}
if(error){return;}else{}
function validGreCaptcha(){$('.g-recaptcha-error').remove();if(grecaptcha.getResponse()==''){$('.g-recaptcha').prepend('<div class="g-recaptcha-error" style="color: #ff0000; font-size: 12px;">Please verify you are human</div>');}else{$.ajax({type:"POST",url:"https://clevertap.com/wp-json/g/v1/recaptcha",data:{captcha:grecaptcha.getResponse()},success:function(data){submitctForm();},error:function(XMLHttpRequest,textStatus,errorThrown){$('.g-recaptcha').prepend('<div style="color: #ff0000; font-size: 12px;">'+textStatus+'</div>');}});}}
function postAjaxForm(postData){if(settings.formEmailValid_beforeSubmit&&settings.checkValidDomain&&!ctValidateEmailDomain($email.val())){$email.css("border","solid 1px #b30324");$('[data-id="emailInvalid"]').show();return false;}
else{$.post(settings.ctApiURL,postData).done(function(msg){if($cc.length&&msg.used==='1'){$('#cNvalid').show();}
if(msg==='success'){if(settings.ctEvent){pushEventToCT(settings.formName);}
typeof invokeGoogleAdwordsScript==='function'&&invokeGoogleAdwordsScript(967950620,'gA0FCO_9_nAQnILHzQM');var capterra_vkey='1d9571c8ec71651019308c48fcc0a5e9',capterra_vid='2109319',capterra_prefix=(('https:'==document.location.protocol)?'https://ct.capterra.com':'http://ct.capterra.com');(function(){var ct=document.createElement('script');ct.type='text/javascript';ct.async=true;ct.src=capterra_prefix+'/capterra_tracker.js?vid='+capterra_vid+'&vkey='+capterra_vkey;var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ct,s);})();if(settings.checkValidDomain&&!ctValidateEmailDomain($email.val())){$email.css("border","solid 1px #b30324");$('[data-id="emailInvalid"]').show();return;}
if(settings.redirectUrl){window.location=settings.redirectUrl;}else{$('.schedule-form').hide();$('.schedule-demo-thankyou').show();}}else{}});}}
function submitctForm(){var postData={firstname:$firstname.val(),lastname:$lastname.val(),email:$email.val(),phone:$phone.val(),country:$country.val(),jobtitle:$jobtitle.val(),linkedin_url:$linkedin_url.val(),selected_plan:$selected_plan.val(),pricing_plan:$pricing_plan.val(),consent_checkbox:$consent_checkbox.val(),got_an_app_:$got_an_app_.val(),company:$company.val(),mau:$mau.val(),monthly_avg_users:$monthly_avg_users.val(),funding:$funding.val(),webinar_theme_text:$webinar_theme_text.val(),webinar_timezone:$webinar_timezone.val(),referrer:$referrer.val(),referrer_name_others:$referrer_name_others.val(),ct_apple_store_link_s_:$ct_apple_store_link_s_.val(),form_id:settings.formId,page_url:settings.page_url,page_name:settings.page_name};if(typeof settings.form_prop==="object"&&Object.keys(settings.form_prop).length>0){postData['form_prop']=settings.form_prop;}
if($cc.length){postData['ccCodeNumber']=$cc.val();}
postAjaxForm(postData);}
if(settings.grecaptcha){validGreCaptcha();}else{submitctForm();}});var btn=document.getElementById('js-linkedinSignIn');if(btn){btn.addEventListener('click',function(){IN.User.authorize(function(data){function onSuccess(profile){console.warn(profile);var data=profile;var firstname=data.firstName||'';settings.ctForm.find('[name="firstname"]').val(firstname);var lastname=data.lastName||'';settings.ctForm.find('[name="lastname"]').val(lastname);var email=data.emailAddress||'';settings.ctForm.find('[name="email"]').val(email);settings.ctForm.find('[name="phone"]').val('');settings.ctForm.trigger('submit');$('.schedule-form').hide();$('.schedule-demo-thankyou').show();}
function onError(error){console.log(error);alert("Something went wrong. Please try again!");}
IN.API.Raw("/people/~:(first-name,last-name,email-address,location,public-profile-url,picture-url,positions:(id,title,summary,start-date,end-date,is-current,company:(id,name,type,size,industry,ticker)))").result(onSuccess).error(onError);},{scope:['r_emailaddress','r_basicprofile','rw_company_admin']});});}
$('.c--form__container input[type="checkbox"]').on('click',function(event){$(this).val(($(this).is(':checked'))?"Yes":"");});$(".multi-field-select input").focus(function(){$('#got_app_select_box').css('opacity','1').trigger('click');});$('#got_app_select_box').on('change',function(){$(this).css('opacity','1');});});}(jQuery));var specialKeys=new Array();specialKeys.push(8);function IsNumeric(e){var keyCode=e.which?e.which:e.keyCode;var ret=((keyCode>=32&&keyCode<=57||keyCode==187||keyCode==189)||specialKeys.indexOf(keyCode)!=-1);document.getElementById("phoneInvalid").style.display=ret?"none":"inline";return ret;}
function got_app_function(e){document.getElementById("got_an_app_").value=e.target.value}